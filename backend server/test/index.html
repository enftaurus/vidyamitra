<!DOCTYPE html>
<html>
<head>
    <title>Streaming Test</title>
</head>
<body>

<h2>Streaming Output:</h2>
<div id="output"></div>

<script>
async function startStream() {

    const response = await fetch("http://127.0.0.1:8000/stream");

    const reader = response.body.getReader();
    const decoder = new TextDecoder();

    const outputDiv = document.getElementById("output");

    while (true) {
        const { done, value } = await reader.read();
        if (done) break;

        const chunk = decoder.decode(value);
        outputDiv.innerHTML += chunk;
    }
}

startStream();
</script>

</body>
</html>